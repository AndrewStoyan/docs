---
import Default from '@astrojs/starlight/components/Head.astro';

const currentProduct = Astro.props.entry.slug.split('/')[0];

const isEnterprise = currentProduct === 'enterprise';
const isDeveloper = currentProduct === 'developer';
const isCrowdin = currentProduct && !isEnterprise && !isDeveloper;

// Override the default Head component to add custom styles for the Nav buttons in the header.
// https://github.com/lorenzolewis/starlight-utils/issues/43
---

<Default {...Astro.props as any}><slot /></Default>

<style>
  :root {
    #crowdin-nav-button,
    #enterprise-nav-button,
    #developer-nav-button {
      padding: 0.25rem;
      border-radius: 0.25rem;
      display: inline-block;
    }
  }
</style>

{isCrowdin && (
  <style>
    #crowdin-nav-button {
      font-weight: 600;
      color: var(--sl-color-text-invert);
      background-color: var(--sl-color-text-accent);
    }
  </style>
)}

{isEnterprise && (
  <style>
    #enterprise-nav-button {
      font-weight: 600;
      color: var(--sl-color-text-invert);
      background-color: var(--sl-color-text-accent);
    }
  </style>
)}

{isDeveloper && (
  <style>
    #developer-nav-button {
    font-weight: 600;
      color: var(--sl-color-text-invert);
      background-color: var(--sl-color-text-accent);
    }
  </style>
)}
